# π“ λ³΄ν— μ•½κ΄€ RAG μ±—λ΄‡ μ‹μ¤ν…

λ³΄ν— μ•½κ΄€ PDF νμΌμ„ λ²΅ν„° λ°μ΄ν„°λ² μ΄μ¤μ— μ €μ¥ν•κ³ , GPT APIλ¥Ό μ΄μ©ν•μ—¬ μ‹¤μ  μ•½κ΄€μ— κΈ°λ°ν• μ§λ¬Έ-μ‘λ‹µμ΄ κ°€λ¥ν• AI μ±—λ΄‡ μ‹μ¤ν…μ…λ‹λ‹¤.

## π—οΈ μ‹μ¤ν… μ•„ν‚¤ν…μ²

```
π“ λ³΄ν— μ•½κ΄€ RAG μ±—λ΄‡ μ‹μ¤ν…
β”β”€β”€ Step 1: PDF μ „μ²λ¦¬ (pdf_preprocessor.py)
β”‚   β”β”€β”€ PyMuPDF: μ „μ²΄ ν…μ¤νΈ μ¶”μ¶
β”‚   β”β”€β”€ pdfplumber: ν‘ μΈμ‹ λ° μ¶”μ¶
β”‚   β”β”€β”€ μ¶λ ¥: JSON(λ²΅ν„°DBμ©) + TXT(κ²€μ¦μ©) + XLSX(ν‘ μ „μ©)
β”‚   β””β”€β”€ μ €μ¥: processed_data/ ν΄λ”
β”‚
β”β”€β”€ Step 2: λ²΅ν„° μ €μ¥μ† (vector_store.py)
β”‚   β”β”€β”€ LangChain: ν…μ¤νΈ μ²­ν‚Ή (300ν† ν°, 100μ¤λ²„λ©)
β”‚   β”β”€β”€ OpenAI: μ„λ² λ”© (text-embedding-ada-002)
β”‚   β””β”€β”€ ChromaDB: λ²΅ν„° μ €μ¥
β”‚
β”β”€β”€ Step 3: RAG μ±—λ΄‡ (rag_chatbot.py)
β”‚   β”β”€β”€ κ²€μƒ‰: ν•μ΄λΈλ¦¬λ“ κ²€μƒ‰ (λ²΅ν„° + ν‚¤μ›λ“)
β”‚   β”β”€β”€ μƒμ„±: GPT-4 Turbo λ‹µλ³€ μƒμ„±
β”‚   β””β”€β”€ μ¶μ²: νμ΄μ§€ λ²νΈ λ…μ‹
β”‚
β””β”€β”€ μΈν„°νμ΄μ¤ (streamlit_app.py)
    β”β”€β”€ μ›Ή UI: Streamlit κΈ°λ°
    β”β”€β”€ μ±„ν…: μ‹¤μ‹κ°„ μ§μμ‘λ‹µ
    β””β”€β”€ μ¶μ²: μ°Έκ³  λ¬Έμ„ ν‘μ‹
```

## π€ λΉ λ¥Έ μ‹μ‘

### 1. ν¨ν‚¤μ§€ μ„¤μΉ
```bash
pip install -r requirements.txt
```

### 2. ν™κ²½ μ„¤μ •
`.env` νμΌ μƒμ„±:
```
OPENAI_API_KEY=sk-your-api-key-here
```

### 3. PDF νμΌ μ¤€λΉ„
`source/` ν΄λ”μ— `μ•½κ΄€.pdf` νμΌμ„ λ„£μΌμ„Έμ”.

### 4. λ‹¨κ³„λ³„ μ‹¤ν–‰
```bash
# 1λ‹¨κ³„: PDF μ „μ²λ¦¬
python pdf_preprocessor.py

# 2λ‹¨κ³„: λ²΅ν„° μ €μ¥μ† κµ¬μ¶•
python vector_store.py

# 3λ‹¨κ³„: μ›Ή μΈν„°νμ΄μ¤ μ‹¤ν–‰
streamlit run streamlit_app.py

## π“ ν”„λ΅μ νΈ κµ¬μ΅°

```
ν”„λ΅μ νΈ ν΄λ”/
β”β”€β”€ source/                    # PDF νμΌ μ €μ¥
β”‚   β””β”€β”€ μ•½κ΄€.pdf
β”β”€β”€ processed_data/            # μ²λ¦¬λ λ°μ΄ν„° (μλ™ μƒμ„±)
β”‚   β”β”€β”€ μ•½κ΄€_pages.json       # λ²΅ν„°DBμ© νμ΄μ§€λ³„ ν…μ¤νΈ
β”‚   β”β”€β”€ μ•½κ΄€_extracted.txt    # κ²€μ¦μ© ν…μ¤νΈ
β”‚   β””β”€β”€ μ•½κ΄€_tables.xlsx      # ν‘ μ „μ© μ—‘μ…€
β”β”€β”€ chroma_db/                # λ²΅ν„° μ €μ¥μ† (μλ™ μƒμ„±)
β”β”€β”€ pdf_preprocessor.py       # PDF μ „μ²λ¦¬
β”β”€β”€ vector_store.py           # λ²΅ν„° μ €μ¥μ† κ΄€λ¦¬
β”β”€β”€ rag_chatbot.py           # RAG μ±—λ΄‡
β”β”€β”€ streamlit_app.py         # μ›Ή μΈν„°νμ΄μ¤
β”β”€β”€ requirements.txt         # ν¨ν‚¤μ§€ λ©λ΅
β”β”€β”€ .env                     # API ν‚¤ μ„¤μ •
β””β”€β”€ README.md               # μ΄ νμΌ
```

## π”§ κ°λ³„ μ‹¤ν–‰

### PDF μ „μ²λ¦¬λ§ μ‹¤ν–‰
```bash
python pdf_preprocessor.py
```

### λ²΅ν„° μ €μ¥μ†λ§ κµ¬μ¶•
```bash
python vector_store.py
```

### μ½μ†” μ±—λ΄‡λ§ μ‹¤ν–‰
```bash
python rag_chatbot.py
```

## π’΅ μ£Όμ” κΈ°λ¥

- **μ™„μ „ν• PDF μ²λ¦¬**: ν…μ¤νΈ + ν‘ ν†µν•© μ¶”μ¶ (JSON, TXT, XLSX 3μ¤‘ μ €μ¥)
- **μ¤λ§νΈ μ²­ν‚Ή**: 300ν† ν° λ‹¨μ„λ΅ μλ―Έ λ‹¨μ„ λ¶„ν•  (100ν† ν° μ¤λ²„λ©)
- **ν•μ΄λΈλ¦¬λ“ κ²€μƒ‰**: λ²΅ν„° μ μ‚¬λ„ + ν‚¤μ›λ“ λ§¤μΉ­ κ²°ν•©
- **μ¶μ² λ…μ‹**: λ¨λ“  λ‹µλ³€μ— νμ΄μ§€ λ²νΈ ν¬ν•¨
- **μ›Ή μΈν„°νμ΄μ¤**: μ‚¬μ©μ μΉν™”μ  UI
- **μ‹¤μ‹κ°„ μ±„ν…**: μμ—°μ–΄ μ§μμ‘λ‹µ
- **ν‘ μ „μ© μ €μ¥**: μ—‘μ…€ νμΌλ΅ ν‘ λ°μ΄ν„° λ³„λ„ κ΄€λ¦¬

## π“‹ μμ‹ μ§λ¬Έ

- "λ³΄ν—κΈ μ§€κΈ‰ μ‚¬μ λ” λ¬΄μ—‡μΈκ°€μ”?"
- "λ³΄ν—λ£λ” μ–΄λ–»κ² λ‚©μ…ν•λ‚μ”?"
- "λ©΄μ±… μ‚¬ν•­μ΄ μλ‚μ”?"
- "λ³΄ν— κΈ°κ°„μ€ μ–Όλ§λ‚ λλ‚μ”?"
- "ν•΄μ§€ μ‹ ν™κΈ‰κΈμ€ μ–΄λ–»κ² λλ‚μ”?"

## β™οΈ κΈ°μ  μ¤νƒ

- **PDF μ²λ¦¬**: PyMuPDF, pdfplumber
- **ν…μ¤νΈ μ²λ¦¬**: LangChain
- **μ„λ² λ”©**: OpenAI text-embedding-ada-002
- **λ²΅ν„° DB**: ChromaDB
- **LLM**: GPT-4 Turbo
- **μ›Ή UI**: Streamlit

## π” λ¬Έμ  ν•΄κ²°

### API ν‚¤ μ¤λ¥
- `.env` νμΌμ— μ¬λ°”λ¥Έ OpenAI API ν‚¤κ°€ μ„¤μ •λμ–΄ μλ”μ§€ ν™•μΈ

### λ²΅ν„° μ €μ¥μ† μ¤λ¥
- `python vector_store.py`λ¥Ό λ¨Όμ € μ‹¤ν–‰ν•μ—¬ λ°μ΄ν„°λ¥Ό κµ¬μ¶•
- `processed_data/μ•½κ΄€_pages.json` νμΌμ΄ μλ”μ§€ ν™•μΈ

### PDF νμΌ μ¤λ¥
- `source/` ν΄λ”μ— `μ•½κ΄€.pdf` νμΌμ΄ μλ”μ§€ ν™•μΈ

## π“ μ§€μ›

λ¬Έμ κ°€ λ°μƒν•λ©΄ λ‹¤μμ„ ν™•μΈν•μ„Έμ”:
1. λ¨λ“  ν¨ν‚¤μ§€κ°€ μ„¤μΉλμ—λ”μ§€
2. API ν‚¤κ°€ μ¬λ°”λ¥΄κ² μ„¤μ •λμ—λ”μ§€
3. PDF νμΌμ΄ μ¬λ°”λ¥Έ μ„μΉμ— μλ”μ§€